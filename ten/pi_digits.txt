http://localhost:8080/mib/loginFromPortal?userName=D84E84CA5E5D0605


public static void main(String[] args) {
		List<TenantVO> tenants = new ArrayList<>();
		TenantVO o1 = new TenantVO();
		o1.setIsdefault(false);
		o1.setName("a");
		TenantVO o2 = new TenantVO();
		o2.setIsdefault(false);
		o2.setName("a2");
		TenantVO o3 = new TenantVO();
		o3.setIsdefault(true);
		o3.setName("a3");
		tenants.add(o1);
		tenants.add(o2);
		tenants.add(o3);
		if(CollectionUtils.isNotEmpty(tenants)) {
			Collections.sort(tenants, new Comparator<TenantVO>() {
				@Override
				public int compare(TenantVO o1, TenantVO o2) {
					if(o1.getIsdefault()){
						return 1;
					}
					if(o2.getIsdefault()){
						return -1;
					}
					if(o1.getName().compareTo(o2.getName()) < 0){
						return -1;
					}else if(o1.getName().compareTo(o2.getName()) == 0){
						return 0;
					}else{
						return 1;
					}
				}
			});
		}
		for(TenantVO vo:tenants){
			System.out.println(vo.getName());
		}
	}

http://192.168.8.44:8080/metaone/index.jsp

Zzm123 !


public static void main(String[] args) {
		String systemName = "CMD";
		String backTableNamePrefix = "MST_COMPANY_INFO";
		 String pattern = backTableNamePrefix + "_[0-9]{6}";
		 List<String> tableNames = new ArrayList<>();
		 List<String> tables = new ArrayList<>();
		 tableNames.add("MST_COMPANY_INFO_EX_180614");
		 tableNames.add("MST_COMPANY_INFO_EX");
		 tableNames.add("MST_COMPANY_INFO_181031");
		 tableNames.add("MST_COMPANY_INFO_181029");
		 tableNames.add("MST_COMPANY_INFO_181027");
		 tableNames.add("MST_COMPANY_INFO_181026");
		 tableNames.add("MST_COMPANY_INFO_181025");
		 tableNames.add("MST_COMPANY_INFO_181024");
		 tableNames.add("MST_COMPANY_INFO_181023");
		 tableNames.add("MST_COMPANY_INFO_181022");

		 tableNames.add("MST_COMPANY_INFO_180614");
//		 tableNames.add("")
		 for(String tableName :tableNames) {
			 boolean isMatch = Pattern.matches(pattern, tableName);
	         if (isMatch){
	        	 System.out.println("���� ��"+tableName);
	             tables.add(tableName);
	         }
		 }
		 System.out.println(tables);
		 int tableSize = tables.size();
         //���ݱ��������������ɾ�����ұ����Ĳ��ְ�������
         int keepTableCount = 3;
         if(systemName.equals("CMD")){
             keepTableCount = 3-1;
         }
         if(tableSize > keepTableCount && keepTableCount>0){
             //ɾ�����ǰ׺�������
             String dropTablePrefixSql = "drop table "+ systemName+".{0}";
             for(int i = tableSize-1; i >= keepTableCount; i--){
                 String dropTableSql = MessageFormat.format(dropTablePrefixSql, tables.get(i));
                 //log.debug("ɾ�����SQL��" + dropTableSql);
                 System.out.println(dropTableSql);
             }
         }
		
	}